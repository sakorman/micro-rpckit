# micro-rpckit
主-从 应用架构的一种实现，目的是通过主应用提供的标准接口来实现从应用二次开发（二方/三方），以实现主应用的平台性开放能力。

基于能力特性，micro-rpckit能够做：
* 对于平台性的前端应用（通常是复杂的），可以做小程序基础框架和SDK；
* 对于复杂的前端巨应用，可以做微前端的架构实践；
* 对于简单的前端页面，可以作为基础的RPC通信库；

能力特性：
* 微应用架构：主应用-从应用
* 三方应用开放能力
  * 微应用
    * 独立运行环境(iframe)
    * 同一运行环境
  * 定制化SDK
  * 服务/API管理
  * 权限管理：应用粒度、服务粒度、API粒度
* 声明式服务API
* 声明式服务事件
* RPC通信协议

# 为什么要开发 micro-rpckit ?
* GUI应用H5化

  在GUI程序的领域，传统的原生开发逐步被H5 WEB技术所取代，因为H5表现出了非常优秀的开发体验和生产效率，这在PC平台尤为明显；那么H5 WEB技术面临的是更为复杂的软件工程和系统程序。
* 云端化
  
  云端化将一直保持主旋律，当前在终端操作的软件系统会越来越多的向云端发展，而WEB技术作为云端的主要技术之一，WEB前端领域会面临更多传统软件系统的开发挑战，工程规模、系统复杂度、架构设计等（在工程化上已经能看到一些变化在应对这些挑战，比如TypeScript,Webpack等）。
* 开放能力
  
  SAAS服务应该是开放的。对于范服务的提供商，通过提供开放能力，让上下游生态、周边生态、行业细分生态等能够接入，达到能力互补/能力创新（服务场景拓宽）；一体化是目的，开放和封闭都是实现路径，但是封闭的一体化方案，ROI可能较低，自建意味更多的人力、财力、时间，对于客户也缺少服务弹性。


在这个背景下，在技术角度看，要应对的是巨型应用；在业务角度看，要应对的是开放能力。而这些也会是WEB领域发展的共性问题，所以micro-rpckit针对这些问题，尝试提供一个通用处理方案；巨型应用使用微前端架构（SOA）思路，开放能力使用小程序架构思路。

# 快速使用
## 安装
`npm install micro-rpckit` 或者`yarn add micro-rpckit`

## 独立运行环境微应用（IFrame）
IFrame页面间通信是最常见的场景，这种场景分为承载页（打开iframe页面）和内容页（iframe页面），micro-rpckit在这个场景提供了：
* 语义化操作：iframe的打开、页面间通信，而无需关注底层琐碎代码的开发；
* 规范化通信：基于提供的service机制，规范了RPC通信间协议，也提供了通信间的类型检测；

相互间的关系：

承载页 -> sappMGR -> service decl <- sappSDK <- IFrame


